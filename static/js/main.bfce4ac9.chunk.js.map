{"version":3,"sources":["components/Header.js","components/Footer.js","components/Alert.js","components/BasketItem.js","components/BasketList.js","components/Cart.js","components/GoodsItem.js","components/GoodsList.js","components/Preloader.js","components/Shop.js","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Alert","name","closeAlert","useEffect","timerId","setTimeout","clearTimeout","BasketItem","price","quantity","removeFromBasket","incQuantity","decQuantity","onClick","BasketList","order","handleBasketShow","totalPrice","reduce","sum","el","length","map","orderItem","Cart","GoodsItem","description","full_background","addToBasket","src","alt","GoodsList","goods","item","Preloader","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","featured","itemIndex","findIndex","newItem","newOrder","index","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mOAiBeA,EAjBO,WACpB,OACE,qBAAKC,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,mBAAGC,KAAK,IAAID,UAAU,aAAtB,wBAGA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACE,6BACE,mBAAGC,KAAK,KAAR,4BCMGE,MAff,WACE,OACE,wBAAQH,UAAU,8BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAII,MAAOC,cADhB,kBAEE,mBAAGL,UAAU,iCAAiCC,KAAK,KAAnD,0B,qBCWKK,MAff,YAAsC,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,WAQrB,OAPAC,qBAAU,WACR,IAAMC,EAAUC,WAAWH,EAAY,KAEvC,OAAO,WACLI,aAAaF,MAEd,CAACH,EAAMC,IAER,qBAAKN,GAAG,kBAAR,SACE,sBAAKF,UAAU,QAAf,UAAwBO,EAAxB,4GCuBSM,MAjCf,YAQI,IAPFX,EAOC,EAPDA,GACAK,EAMC,EANDA,KACAO,EAKC,EALDA,MACAC,EAIC,EAJDA,SACAC,EAGC,EAHDA,iBACAC,EAEC,EAFDA,YACAC,EACC,EADDA,YAEA,OACE,qBAAIlB,UAAU,kBAAd,UACGO,EADH,IACUO,EADV,uBAEE,mBACEd,UAAU,iCACVmB,QAAS,kBAAMD,EAAYhB,IAF7B,oBAKK,IAPP,IAQIa,EAAU,IACZ,mBACEf,UAAU,iCACVmB,QAAS,kBAAMF,EAAYf,IAF7B,iBAKK,IAdP,KAeKY,EAAQC,EAfb,uBAgBE,sBAAMf,UAAU,oBAAoBmB,QAAS,kBAAMH,EAAiBd,IAApE,SACE,mBAAGF,UAAU,+BAAb,yBCgBOoB,MA1Cf,YAMI,IAAD,IALDC,aAKC,MALO,GAKP,EAJDC,EAIC,EAJDA,iBACAN,EAGC,EAHDA,iBACAC,EAEC,EAFDA,YACAC,EACC,EADDA,YAEMK,EAAaF,EAAMG,QAAO,SAACC,EAAKC,GACpC,OAAOD,EAAMC,EAAGZ,MAAQY,EAAGX,WAC1B,GAEH,OACE,qBAAIf,UAAU,yBAAd,UACE,oBAAIA,UAAU,yBAAd,wDACCqB,EAAMM,OACLN,EAAMO,KAAI,SAACC,GACT,OACE,cAAC,EAAD,2BAEMA,GAFN,IAGEb,iBAAkBA,EAClBC,YAAaA,EACbC,YAAaA,IAJRW,EAAU3B,OASrB,oBAAIF,UAAU,kBAAd,uFAEF,qBAAIA,UAAU,yBAAd,oGACoBuB,EADpB,0BAGA,oBAAIvB,UAAU,kBAAd,SACE,wBAAQA,UAAU,YAAlB,gEAEF,mBAAGA,UAAU,8BAA8BmB,QAASG,EAApD,uBC3BSQ,MATf,YAAmD,IAAD,IAAlCf,gBAAkC,MAAvB,EAAuB,EAApBO,EAAoB,EAApBA,iBAC5B,OACE,sBAAKtB,UAAU,gCAAgCmB,QAASG,EAAxD,UACE,mBAAGtB,UAAU,iBAAb,2BACCe,EAAW,sBAAMf,UAAU,gBAAhB,SAAiCe,IAAmB,SCgCvDgB,MApCf,YAOI,IANF7B,EAMC,EANDA,GACAK,EAKC,EALDA,KACAyB,EAIC,EAJDA,YACAlB,EAGC,EAHDA,MACAmB,EAEC,EAFDA,gBACAC,EACC,EADDA,YAEA,OACE,sBAAKlC,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKmC,IAAKF,EAAiBG,IAAK7B,MAElC,sBAAKP,UAAU,eAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8BO,IAC9B,4BAAIyB,OAEN,sBAAKhC,UAAU,cAAf,UACE,wBACEA,UAAU,MACVmB,QAAS,WACPe,EAAY,CACVhC,KACAK,OACAO,WANN,kDAYA,uBAAMd,UAAU,cAAhB,UAA+Bc,EAA/B,iCChBOuB,MAbf,YAAiD,IAAD,IAA3BC,aAA2B,MAAnB,GAAmB,EAAfJ,EAAe,EAAfA,YAC/B,OAAKI,EAAMX,OAIT,qBAAK3B,UAAU,QAAf,SACGsC,EAAMV,KAAI,SAACW,GACV,OAAO,cAAC,EAAD,2BAA6BA,GAA7B,IAAmCL,YAAaA,IAAhCK,EAAKrC,SALzB,0CCKIsC,MARf,WACE,OACE,qBAAKxC,UAAU,WAAf,SACE,qBAAKA,UAAU,qBCoHNyC,MAjHf,WACE,MAA0BC,mBAAS,IAAnC,mBAAOJ,EAAP,KAAcK,EAAd,KACA,EAA8BD,oBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA0BH,mBAAS,IAAnC,mBAAOrB,EAAP,KAAcyB,EAAd,KACA,EAAsCJ,oBAAS,GAA/C,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAAkCN,mBAAS,IAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KAkCM5B,EAAmB,WACvB0B,GAAeD,IAmDjB,OAbAtC,qBAAU,WACR0C,MCtFY,yCDsFG,CACbC,QAAS,CACPC,cCzFQC,yCD4FTC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLA,EAAKC,UAAYhB,EAASe,EAAKC,UAE/Bd,GAAW,QAEd,IAED,uBAAM7C,UAAU,oBAAhB,UACE,cAAC,EAAD,CAAMe,SAAUM,EAAMM,OAAQL,iBAAkBA,IAC/CsB,EACC,cAAC,EAAD,IAEA,cAAC,EAAD,CAAWN,MAAOA,EAAOJ,YA1FX,SAACK,GACnB,IAAMqB,EAAYvC,EAAMwC,WAAU,SAAChC,GAAD,OAAeA,EAAU3B,KAAOqC,EAAKrC,MAEvE,GAAI0D,EAAY,EAAG,CACjB,IAAME,EAAO,2BACRvB,GADQ,IAEXxB,SAAU,IAGZ+B,EAAS,GAAD,mBAAKzB,GAAL,CAAYyC,SACf,CACL,IAAMC,EAAW1C,EAAMO,KAAI,SAACC,EAAWmC,GACrC,OAAIA,IAAUJ,EACL,2BACF/B,GADL,IAEEd,SAAUc,EAAUd,SAAW,IAG1Bc,KAIXiB,EAASiB,GAEXb,EAAaX,EAAKhC,SAoEfwC,GACC,cAAC,EAAD,CACE1B,MAAOA,EACPL,iBApEiB,SAACd,GACxB,IAAM6D,EAAW1C,EAAM4C,QAAO,SAAC1B,GAAD,OAAUA,EAAKrC,KAAOA,KACpD4C,EAASiB,IAmEHzC,iBAAkBA,EAClBL,YAzDY,SAACf,GACnB,IAAM6D,EAAW1C,EAAMO,KAAI,SAACF,GAC1B,GAAIA,EAAGxB,KAAOA,EAAI,CAChB,IAAMgE,EAAcxC,EAAGX,SAAW,EAElC,OAAO,2BACFW,GADL,IAEEX,SAAUmD,IAGZ,OAAOxC,KAGXoB,EAASiB,IA6CH7C,YA3CY,SAAChB,GACnB,IAAM6D,EAAW1C,EAAMO,KAAI,SAACF,GAC1B,GAAIA,EAAGxB,KAAOA,EAAI,CAChB,IAAMgE,EAAcxC,EAAGX,SAAW,EAElC,OAAO,2BACFW,GADL,IAEEX,SAAUmD,EAAc,EAAIA,EAAc,IAG5C,OAAOxC,KAGXoB,EAASiB,MAiCNd,GAAa,cAAC,EAAD,CAAO1C,KAAM0C,EAAWzC,WAjEvB,WACjB0C,EAAa,W,MErCFiB,MAVf,WACE,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCLNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.bfce4ac9.chunk.js","sourcesContent":["export const Header = () => {\r\n  return (\r\n    <nav className='green darken-1'>\r\n      <div className='nav-wrapper'>\r\n        <a href='#' className='brand-logo'>\r\n          React Shop\r\n        </a>\r\n        <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n          <li>\r\n            <a href='!#'>Repo</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","function Footer() {\r\n  return (\r\n    <footer className='page-footer green lighten-4'>\r\n      <div className='footer-copyright'>\r\n        <div className='container'>\r\n          © {new Date().getFullYear()} Copyright Text\r\n          <a className='grey-text text-lighten-4 right' href='#!'>\r\n            Repo\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useEffect } from 'react';\r\n\r\nfunction Alert({ name, closeAlert }) {\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 3000);\r\n\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n  }, [name, closeAlert]);\r\n  return (\r\n    <div id='toast-container'>\r\n      <div className='toast'>{name} добавлен в корзину</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Alert;\r\n","import React from 'react';\r\n\r\nfunction BasketItem({\r\n  id,\r\n  name,\r\n  price,\r\n  quantity,\r\n  removeFromBasket,\r\n  incQuantity,\r\n  decQuantity,\r\n}) {\r\n  return (\r\n    <li className='collection-item'>\r\n      {name} {price} руб.\r\n      <i\r\n        className='material-icons basket-quantity'\r\n        onClick={() => decQuantity(id)}\r\n      >\r\n        remove\r\n      </i>{' '}\r\n      x{quantity}{' '}\r\n      <i\r\n        className='material-icons basket-quantity'\r\n        onClick={() => incQuantity(id)}\r\n      >\r\n        add\r\n      </i>{' '}\r\n      = {price * quantity} руб.\r\n      <span className='secondary-content' onClick={() => removeFromBasket(id)}>\r\n        <i className='material-icons basket-delete'>close</i>\r\n      </span>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default BasketItem;\r\n","import React from 'react';\r\nimport BasketItem from './BasketItem';\r\n\r\nfunction BasketList({\r\n  order = [],\r\n  handleBasketShow,\r\n  removeFromBasket,\r\n  incQuantity,\r\n  decQuantity,\r\n}) {\r\n  const totalPrice = order.reduce((sum, el) => {\r\n    return sum + el.price * el.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <ul className='collection basket-list'>\r\n      <li className='collection-item active'>Корзина</li>\r\n      {order.length ? (\r\n        order.map((orderItem) => {\r\n          return (\r\n            <BasketItem\r\n              key={orderItem.id}\r\n              {...orderItem}\r\n              removeFromBasket={removeFromBasket}\r\n              incQuantity={incQuantity}\r\n              decQuantity={decQuantity}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <li className='collection-item'>Корзина пуста</li>\r\n      )}\r\n      <li className='collection-item active'>\r\n        Общая стоимость: {totalPrice} руб.\r\n      </li>\r\n      <li className='collection-item'>\r\n        <button className='btn-small'>Оформить</button>\r\n      </li>\r\n      <i className='material-icons basket-close' onClick={handleBasketShow}>\r\n        close\r\n      </i>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default BasketList;\r\n","import React from 'react';\r\n\r\nfunction Cart({ quantity = 0, handleBasketShow }) {\r\n  return (\r\n    <div className='cart blue darken-4 white-text' onClick={handleBasketShow}>\r\n      <i className='material-icons'>shopping_cart</i>\r\n      {quantity ? <span className='cart-quantity'>{quantity}</span> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import React from 'react';\r\n\r\nfunction GoodsItem({\r\n  id,\r\n  name,\r\n  description,\r\n  price,\r\n  full_background,\r\n  addToBasket,\r\n}) {\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-image'>\r\n        <img src={full_background} alt={name} />\r\n      </div>\r\n      <div className='card-content'>\r\n        <span className='card-title'>{name}</span>\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className='card-action'>\r\n        <button\r\n          className='btn'\r\n          onClick={() => {\r\n            addToBasket({\r\n              id,\r\n              name,\r\n              price,\r\n            });\r\n          }}\r\n        >\r\n          Купить\r\n        </button>\r\n        <span className='right price'>{price} руб.</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GoodsItem;\r\n","import React from 'react';\r\nimport GoodsItem from './GoodsItem';\r\n\r\nfunction GoodsList({ goods = [], addToBasket }) {\r\n  if (!goods.length) {\r\n    return <h3>No data</h3>;\r\n  }\r\n  return (\r\n    <div className='goods'>\r\n      {goods.map((item) => {\r\n        return <GoodsItem key={item.id} {...item} addToBasket={addToBasket} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GoodsList;\r\n","import React from 'react';\r\n\r\nfunction Preloader() {\r\n  return (\r\n    <div className='progress'>\r\n      <div className='indeterminate'></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Preloader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\nimport Alert from './Alert';\r\nimport BasketList from './BasketList';\r\nimport Cart from './Cart';\r\nimport GoodsList from './GoodsList';\r\nimport Preloader from './Preloader';\r\n\r\nfunction Shop() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setBasketShow] = useState(false);\r\n  const [alertName, setAlertName] = useState('');\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);\r\n\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      };\r\n\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          };\r\n        } else {\r\n          return orderItem;\r\n        }\r\n      });\r\n\r\n      setOrder(newOrder);\r\n    }\r\n    setAlertName(item.name);\r\n  };\r\n\r\n  const removeFromBasket = (id) => {\r\n    const newOrder = order.filter((item) => item.id !== id);\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const handleBasketShow = () => {\r\n    setBasketShow(!isBasketShow);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlertName('');\r\n  };\r\n\r\n  const incQuantity = (id) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === id) {\r\n        const newQuantity = el.quantity + 1;\r\n\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n  const decQuantity = (id) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === id) {\r\n        const newQuantity = el.quantity - 1;\r\n\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity > 0 ? newQuantity : 1,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: {\r\n        Authorization: API_KEY,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.featured && setGoods(data.featured);\r\n\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n  return (\r\n    <main className='container content'>\r\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <GoodsList goods={goods} addToBasket={addToBasket} />\r\n      )}\r\n      {isBasketShow && (\r\n        <BasketList\r\n          order={order}\r\n          removeFromBasket={removeFromBasket}\r\n          handleBasketShow={handleBasketShow}\r\n          incQuantity={incQuantity}\r\n          decQuantity={decQuantity}\r\n        />\r\n      )}\r\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\nexport { API_KEY, API_URL };\r\n","import Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Shop from './components/Shop';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Shop />\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}